if("undefined"==typeof n4s)var n4s={};if(n4s.cache=function(){var t={},e=function(e){return t[e]},n=function(e,n){t[e]=n},s=function(){t={}};return{get:e,set:n,flush:s}}(),"undefined"==typeof n4s)var n4s={};if(n4s.http=function(){var t={},e=function(t,e){switch(e.toUpperCase()){case"JSON":t=JSON.parse(t)}return t},n=function(){return t},s=function(e,n){t={status:e.status,data:n}},r=function(t){if(t=n4s.utils.extend({success:function(){console.log("n4s.http: Success handler not defined")},error:function(){console.log("n4s.http: Error handler not defined")},get_cached:!1,method:"GET",data_type:"text",data:null},t),t.get_cached&&n4s.cache.get(t.url))return t.success(e(n4s.cache.get(t.url),t.data_type),t.data_type),!0;var n;if(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){if(4==n.readyState){var r=e(n.responseText,t.data_type);s(n,r),200==n.status?(n4s.cache.set(t.url,n.responseText,t.data_type),t.success(r)):t.error(r)}},n.open(t.method.toUpperCase(),t.url,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===t.method.toUpperCase()){n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")}(t.data);n.send(r)}else n.send()};return{options:{},send:r,getLastResponse:n}}(),"undefined"==typeof n4s)var n4s={};if(n4s.utils=function(){var t=function(){for(var t={},e=0;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t};return{extend:t}}(),"undefined"==typeof n4s)var n4s={};n4s.app=function(){function t(t,e){t||(t=function(t){n(t.href)}),e||(e="body"),e+=" a",$(e).each(function(e){$(this).off("click").on("click",function(e){t(e.target),this.blur(),e.preventDefault()})})}var e=function(e,n){t(e,n)},n=function(e,n,s){n||(n="body"),$.ajax({url:e,cache:!1,success:function(e){var r=e.split(/(<title[^>]*>|<\/title>)/gi)[2],a=e.split(/(<body[^>]*>|<\/body>)/gi)[2];a&&(a=a.replace(/<script[^>]*>/gi," <!-- //removed script").replace(/<\/script>/gi," --> "),$(n).html(a),document.title=r,t(s,n))}})};return _this={init:e,getHtml:n}}();