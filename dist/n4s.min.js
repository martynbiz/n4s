n4s=function(){var e={},t=function(t){return e[t]},n=function(t,n){e[t]=n},s=function(){e={}};return{get:t,set:n,flush:s}}(),"undefined"==typeof n4s&&(n4s={}),n4s.http=function(){var e={},t=function(e,t){switch(t.toUpperCase()){case"JSON":e=JSON.parse(e)}return e},n=function(){return e},s=function(t,n){e={status:t.status,data:n}},r=function(e){if(e=n4s.utils.extend({success:function(){console.log("n4s.http: Success handler not defined")},error:function(){console.log("n4s.http: Error handler not defined")},get_cached:!1,method:"GET",data_type:"text",data:null},e),e.get_cached&&n4s.cache.get(e.url))return e.success(t(n4s.cache.get(e.url),e.data_type),e.data_type),!0;var n;if(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){if(4==n.readyState){var r=t(n.responseText,e.data_type);s(n,r),200==n.status?(n4s.cache.set(e.url,n.responseText,e.data_type),e.success(r)):e.error(r)}},n.open(e.method.toUpperCase(),e.url,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===e.method.toUpperCase()){n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}(e.data);n.send(r)}else n.send()};return{options:{},send:r,getLastResponse:n}}(),"undefined"==typeof n4s&&(n4s={}),n4s.utils=function(){var e=function(){for(var e={},t=0;t<arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e};return{extend:e}}();